<script src="js/project.js"></script>
<link rel="stylesheet" href="style/project.css">
<h1>My Projects</h1>
<div class="projects pure-g"></div>
<script>
    var projectsDiv = document.querySelector('.projects');
    beganLoading();
    SnapAPI.relogin()
        .then(function () {
            SnapAPI.getMyProjectList(pageUser())
                .then(function (result) {
                    setTitle('My projects - Snap! Build Your Own Blocks');
                    result.MyProjectList.forEach(function (project) {
                        projectsDiv.append(
                            newProjectDiv(
                                project, 
                                { 
                                    size: 'small', 
                                    gridSize: 5, 
                                    extraFields: { isPublic: 'public' }
                                }
                            )
                        );
                    });
                })
                .then(doneLoading)
                .catch(function (error) {
                    throw(error);
                    genericError(error.ResultMessage);
                })
        });
</script>
